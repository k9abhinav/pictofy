<%- include ./partials/header.ejs %>
<div class="w-full min-h-screen bg-zinc-800 px-10 text-white">
    <div class="post-details flex flex-col items-center pt-10">
        <div class="w-full md:w-1/2 bg-zinc-200 rounded-lg overflow-hidden">
            <img class="w-full h-full object-cover" src="/images/uploads/<%= post.image %>" alt="<%= post.title %>">
        </div>
        <h1 class="text-3xl font-semibold mt-5"><%= post.title %></h1>
        <p class="text-lg mt-3"><%= post.description %></p>
        <p>Likes: <%= post.likes.length %></p>
        <div class="post-meta text-sm text-gray-400 mt-5">
            <p>Posted by: <%= post.user.name %> (@<%= post.user.username %>)</p>
        </div>
        <!-- Like/Unlike Button Logic -->
        <% if (post.likes.includes(user._id)) { %>
            <form action="/post/<%= post._id %>/unlike" method="POST">
                <button type="submit" class="mt-3 px-4 py-2 bg-red-500 rounded">Unlike</button>
            </form>
        <% } else { %>
            <form action="/post/<%= post._id %>/like" method="POST">
                <button type="submit" class="mt-3 px-4 py-2 bg-blue-500 rounded">Like</button>
            </form>
        <% } %>
        <a href="/feed" class="mt-10 px-4 py-2 bg-red-500 rounded-full">Back to Feed</a>
    </div>
</div>
<%- include ./partials/footer.ejs %>
